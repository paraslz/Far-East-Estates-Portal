<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Ladang Cempaka - Plantation and Agronomy Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .details-content { display: none; }
        .details-content.active { display: block; }
        .dropdown-btn.active { background-color: #14532d; }
        .policy-item { border-left: 3px solid #16a34a; padding-left: 1rem; margin-top: 0.75rem; }
        .modal { display: none; }
        .modal.active { display: flex; }
        .chart-container { position: relative; height: 300px; width: 100%; margin: auto; }
        .pie-chart-container { position: relative; height: 350px; width: 100%; margin: auto; }
        .observation-ref { font-size: 0.75rem; color: #57534e; font-style: italic; }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <div class="text-xl font-bold text-gray-900">
                <a href="index.html" class="flex items-center">
                    Ladang Cempaka Report
                </a>
            </div>
            <a href="estates.html" class="text-green-800 hover:text-green-900 transition duration-300">&larr; Back to Estates List</a>
        </nav>
    </header>

    <!-- Main container for the report -->
    <div class="container mx-auto p-4 md:p-8">
        <!-- Container where the estate data will be rendered -->
        <div id="selected-estate-container" class="grid grid-cols-1 gap-8">
             <!-- Content will be generated by JavaScript -->
        </div>
    </div>
    
    <!-- Modal for displaying policy details -->
    <div id="policyModal" class="modal fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-2xl font-bold">Agricultural Policy Cross-Reference</h3>
                <button onclick="closePolicyModal()" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
            </div>
            <div id="modalContent" class="space-y-4 overflow-y-auto pr-4 flex-grow">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Main script for application logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA STORE ---
            const estateData = {
                "id": "cempaka",
                "name": "Ladang Cempaka",
                "reportInfo": "Data based on PA Report 2/2025 (Visit: 28th Oct 2025) & Agronomy Report (July 2025).",
                "summaryMetrics": {
                    "area": {
                        "title": "Estate Area",
                        "lines": [
                            "Total Area: 495.93 ha",
                            "Mature: 167.64 ha",
                            "Immature: 283.36 ha",
                            "Others: 44.93 ha"
                        ]
                    },
                    "yield": {
                        "title": "Yield/Ha (Actual vs Budget)",
                        "value": "19.87 / 15.39 MT",
                        "note": "YTD Sep 2025 (Strong Performance)"
                    },
                    "cost": {
                        "title": "FFB Cost/Tonne (Actual vs Budget)",
                        "value": "RM 254.87 / RM 352.20",
                        "note": "Ex-Estate, YTD Sep 2025 (Under Budget)"
                    },
                    "upkeep": {
                        "title": "Upkeep Status",
                        "value": "Mediocre",
                        "note": "Weeding delayed, VOPs prevalent"
                    },
                     "labour": {
                        "title": "Labour Status",
                        "value": "Shortage",
                        "note": "Deficit of 5 Harvesters"
                    }
                },
                "keyMetrics": [
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-blue-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z' /></svg>", "label": "Harvesters Ratio", "value": "1:16.8 ha (Short 5 Hrv)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-green-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z' /></svg>", "label": "P&D Status", "value": "Controlled (Rats/Oryctes)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-yellow-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 10V3L4 14h7v7l9-11h-7z' /></svg>", "label": "OER % (YTD)", "value": "19.08% (Budget 19.03%)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-red-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z' /></svg>", "label": "Harvester Prod.", "value": "3.21 - 3.27 MT/md" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-purple-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' /></svg>", "label": "Harvest Interval", "value": "15 days (Acceptable)" },
                    { "icon": "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-teal-600' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17.657 18.343A8 8 0 016.343 7.029m11.314 11.314a8 8 0 01-11.314-11.314m2.121 13.435a2 2 0 01-2.828 0l-2.122-2.121a2 2 0 010-2.828l5.656-5.657a2 2 0 012.829 0l2.121 2.121a2 2 0 010 2.828l-5.657 5.657z' /></svg>", "label": "Nutrient Status", "value": "On Schedule" }
                ],
                "chartData": {
                    "production": {
                        "labels": ["Jan-25", "Feb-25", "Mar-25", "Apr-25", "May-25", "Jun-25", "Jul-25", "Aug-25", "Sep-25"],
                        "ffb": [370, 370, 370, 370, 370, 370, 370, 370, 370], // Average calculated from YTD 3331.12 / 9
                        "rainfall": [151.0, 43.0, 138.0, 339.0, 206.0, 171.0, 0.0, 135.0, 116.5],
                        "note": "*Rainfall actuals for 2025. FFB data shows YTD average (Monthly breakdown not provided in PAR 2/2025)."
                    },
                    "ageProfile": {
                        "labels": ["Mature (P18 - 2018)", "Immature (P22 - 2022)", "Immature (P23 - 2023)"],
                        "data": [37, 23, 40], // Approx percentages based on hectares (167, 104, 179)
                        "title": "Ladang Cempaka - Palm Age Distribution (2025)",
                        "note": "*Source: PAR 2/2025, Pg. 10 Area Statement."
                    }
                },
                "observations": [
                    "<b>Positive Yield Performance:</b> Yield per hectare as of September is 19.87 tons, which is 29% higher than the budget (15.39 tons) and significantly better than the previous year. <span class='observation-ref'>(PAR 2/2025, Pg. 6, 27)</span>",
                    "<b>Labour Shortage:</b> There is a deficit of 3 workers total, specifically 5 harvesters. This is critical as scout harvesting is in progress in P22B. <span class='observation-ref'>(PAR 2/2025, Pg. 12)</span>",
                    "<b>Poor Immature Weeding:</b> Weeding in P23A and P22B is not satisfactory. Overgrown VOPs (Volunteers Oil Palms) and noxious weeds are prevalent. Dominance of weeds in palm circles was noted. <span class='observation-ref'>(PAR 2/2025, Pg. 36-39, 43)</span>",
                    "<b>Widespread Over-Pruning:</b> Excessive removal of functional fronds was found all over the fields (mature and immature). This practice must stop immediately to avoid stress to palms. <span class='observation-ref'>(PAR 2/2025, Pg. 19, 22, 43)</span>",
                    "<b>Rat & Pest Damage:</b> Symptoms of rat damage found all over. 1.5 rounds of baiting completed. Oryctes damage found in P23A (fresh damage). <span class='observation-ref'>(PAR 2/2025, Pg. 22, 40)</span>",
                    "<b>Road Maintenance:</b> 88% of road grading is complete, but surfacing with crusher run is urgently needed for slippery/soggy stretches before the monsoon. <span class='observation-ref'>(PAR 2/2025, Pg. 20-21, 44)</span>"
                ],
                "reports": {
                    "plantation": {
                        "Executive Summary": "Performance is mixed. FFB production (19.87 MT/ha) and Costs (RM 254.87/MT) are excellent, beating budget. However, field upkeep standards (weeding/pruning) are mediocre and labour is short. (Source: PAR 2/2025, Pg. 43-44)",
                        "Area Statement": "Total planted area 451.00 ha. Mature: 167.64 ha (37%). Immature: 283.36 ha (63%). No changes since last visit. (Source: PAR 2/2025, Pg. 10)",
                        "Labour Statement": "Total workforce is 27 (11 Checkroll, 16 Contract). Requirement is 30. Shortage of 5 harvesters is a concern for upcoming peak crop and scout harvesting. (Source: PAR 2/2025, Pg. 12)",
                        "Staff Establishment": "Staffing is satisfactory. Manager also oversees Ladang Dawn. (Source: PAR 2/2025, Pg. 14)",
                        "General Charges": "Expenditure is RM 1,213.05/ha (lower than budget of RM 1,406.10). Overspending noted in MSPO fees (213%) and Security (20%). (Source: PAR 2/2025, Pg. 15-16)",
                        "Upkeep and Cultivation": "Total cost RM 1,837.07/ha (Budget RM 2,180.89). Weeding is delayed. Manuring completed as per schedule. Pruning cost is satisfactory but quality (over-pruning) is poor. (Source: PAR 2/2025, Pg. 17-19)",
                        "Harvesting and Collection": "Cost is RM 101.38/tonne (Budget RM 119.14). Interval is 15 days. Loose fruit collection needs improvement. (Source: PAR 2/2025, Pg. 25-26)",
                        "Crop Production": "YTD FFB is 3,331.12 MT (Budget 2,580 MT). Yield/ha is 19.87 MT. OER is 19.08%. (Source: PAR 2/2025, Pg. 27)",
                        "Cost of Production": "Total Ex-Estate Cost is RM 254.87/MT, significantly lower than budget (RM 352.20/MT). (Source: PAR 2/2025, Pg. 29)",
                        "Immature P22B": "104.08 ha. Scout harvesting started Feb 2025. Weeding is poor; palm circles dominated by weeds. 2 rounds of circle spraying done (Program 3). (Source: PAR 2/2025, Pg. 30-31)",
                        "Immature P23A": "179.28 ha. Weeding unsatisfactory; overgrown VOPs prevalent. Oryctes damage found (5 rounds Cypermethrine done). (Source: PAR 2/2025, Pg. 35-40)"
                    },
                    "agronomy": {
                        "Executive Summary": "Focus is required on weeding standards, VOP eradication, and resolving labour shortages for immature harvesting. Rat infestation has been reduced but requires monitoring. Manuring progress has improved after initial delays. (Source: AR, Pg. 5, 45)",
                        "Nutrient Inputs/Progress of Manuring": "First-half manuring is 41% complete for mature areas and 52% for immature. Delivery issues for Mixture B have been resolved, and the next consignment is expected in August. (Source: AR, Pg. 11-12)",
                        "Agronomic Observation": "P18C (Mature): Yield has increased by 35.9%. Weeding and pruning are slightly delayed. Rat attacks reduced from 15% to 4%. P22 (Immature): Yield is low in P22D due to accessibility issues and labour shortage. Over-pruning was observed. VOPs need eradication. P23 (Immature): Palm vigour is improving. Rat and Oryctes are under control, but Apogonia requires treatment. (Source: AR, Pg. 13-41)",
                        "Yield Performance": "P18C yield increased by 35.9% compared to last year. P22B immature yield is 8.7% above estimate, but P22D is 54.4% below due to labour and access issues. Harvesting rounds for immature fields are behind schedule. (Source: AR, Pg. 43-44)",
                        "Fertilizer Recommendation": "The 2026 fertilizer program has been formulated, recommending Mixture B, RP, and Kieserite for mature palms, and compound fertilizers for immature areas. (Source: AR, Pg. 46-47)"
                    },
                    "pinfosys": "Not Available"
                },
                "policy": " <div class='policy-item'><p class='font-semibold'>Immature Upkeep</p><p class='text-sm text-gray-600'><b>Policy Ref: UPKEEP-IM-01:</b> EFB mulching must be completed within 3 months of planting. Palm supplying must be completed within 6 months.</p><p class='text-sm text-gray-600'><b>Policy Ref: WEED-IM-03:</b> Weeding rounds in immature areas must be strictly followed as per schedule to prevent competition and establish ground cover.</p></div> <div class='policy-item'><p class='font-semibold'>Pruning Standards</p><p class='text-sm text-gray-600'><b>Policy Ref: PRUNE-STD-01:</b> Over-pruning is strictly prohibited. Field supervisors must conduct pre- and post-pruning checks to ensure compliance.</p></div> <div class='policy-item'><p class='font-semibold'>Labour Management</p><p class='text-sm text-gray-600'><b>Policy Ref: HR-MANPOWER-01:</b> Estate managers must maintain the budgeted worker-to-land ratio. Any shortage exceeding 10% must be reported with a recruitment plan.</p></div>"
            };


            // --- GLOBAL VARIABLES ---
            let chartInstances = {};
            const container = document.getElementById('selected-estate-container');

            // --- FUNCTIONS ---
            function renderEstate() {
                container.innerHTML = createEstateHTML(estateData);
                setTimeout(() => {
                    initializeChartsForEstate(estateData);
                    populateInternalDropdowns(estateData);
                    attachEventListeners(estateData);
                }, 0);
            }

            function createEstateHTML(estate) {
                const summaryMetricsHTML = Object.values(estate.summaryMetrics).map(metric => {
                    const colorClass = metric.title.includes('Area') ? 'bg-blue-50 text-blue-800' : 
                                       metric.title.includes('Yield') ? 'bg-green-50 text-green-800' :
                                       metric.title.includes('Cost') ? 'bg-orange-50 text-orange-800' :
                                       metric.title.includes('Upkeep') ? 'bg-red-50 text-red-800' : 'bg-yellow-50 text-yellow-800';
                    if (metric.lines) {
                        return `<div class="p-4 rounded-lg ${colorClass}"><h3 class="font-semibold">${metric.title}</h3>${metric.lines.map(line => `<p class="text-sm">${line}</p>`).join('')}</div>`;
                    }
                    return `<div class="p-4 rounded-lg ${colorClass}"><h3 class="font-semibold">${metric.title}</h3><p class="text-2xl font-bold">${metric.value}</p><p class="text-xs text-gray-500 mt-1">${metric.note}</p></div>`;
                }).join('');

                const keyMetricsHTML = estate.keyMetrics.map(metric => `
                    <div class="flex items-center space-x-3 bg-gray-50 p-3 rounded-lg">
                        <div class="bg-gray-100 p-2 rounded-full">${metric.icon}</div>
                        <div><p class="text-sm text-gray-500">${metric.label}</p><p class="font-bold text-lg">${metric.value}</p></div>
                    </div>`).join('');

                const observationsHTML = estate.observations.map(obs => `<li class="ml-4">${obs}</li>`).join('');

                return `
                    <div class="bg-white p-6 rounded-lg shadow-lg animate-fade-in">
                        <h2 class="text-3xl font-bold mb-2 text-gray-900">${estate.name}</h2>
                        <p class="text-sm text-gray-500 mb-6 italic">${estate.reportInfo}</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-8">${summaryMetricsHTML}</div>
                        <div class="mb-8"><h3 class="text-xl font-semibold mb-4 border-b pb-2">Key Metrics & Agronomic Status</h3><div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-4">${keyMetricsHTML}</div></div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div><h3 class="text-xl font-semibold mb-2">Monthly Production vs Rainfall (2025)</h3><div class="chart-container"><canvas id="prodChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.production.note}</p></div>
                            <div><h3 class="text-xl font-semibold mb-2">Palm Age Profile</h3><div class="pie-chart-container"><canvas id="ageChart-${estate.id}"></canvas></div><p class="text-xs text-center text-gray-500 mt-2">${estate.chartData.ageProfile.note}</p></div>
                        </div>
                        <div class="mb-8"><h3 class="text-xl font-semibold mb-2 border-b pb-2">Key Observations & Issues</h3><ul class="list-disc list-inside space-y-2 text-gray-700 mt-4">${observationsHTML}</ul></div>
                        <div class="mb-8 text-center"><button class="policy-modal-btn bg-green-800 text-white px-6 py-3 rounded-lg hover:bg-green-900 transition shadow-md">View Agricultural Policy Cross-Reference</button></div>
                        <div class="space-y-2">
                            <button data-dropdown-id="${estate.id}-plantation" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Plantation Advisory Report Details</button>
                            <div id="${estate.id}-plantation" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                            <button data-dropdown-id="${estate.id}-agronomy" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Agronomy Report Details</button>
                            <div id="${estate.id}-agronomy" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                            <button data-dropdown-id="${estate.id}-pinfosys" class="dropdown-btn w-full text-left bg-gray-800 text-white p-3 rounded-md hover:bg-gray-700 transition">Pinfosys Report Details</button>
                            <div id="${estate.id}-pinfosys" class="details-content bg-gray-50 p-4 rounded-md border border-gray-200"></div>
                        </div>
                    </div>`;
            }

            function initializeChartsForEstate() {
                const prodCanvasId = `prodChart-${estateData.id}`;
                const ageCanvasId = `ageChart-${estateData.id}`;
                if (chartInstances[prodCanvasId]) chartInstances[prodCanvasId].destroy();
                if (chartInstances[ageCanvasId]) chartInstances[ageCanvasId].destroy();

                const prodCtx = document.getElementById(prodCanvasId)?.getContext('2d');
                if(prodCtx) {
                    chartInstances[prodCanvasId] = new Chart(prodCtx, {
                        type: 'bar',
                        data: {
                            labels: estateData.chartData.production.labels,
                            datasets: [
                                { label: 'FFB Production (MT - Avg)', data: estateData.chartData.production.ffb, type: 'line', borderColor: '#ca8a04', backgroundColor: 'transparent', yAxisID: 'y-ffb', tension: 0.4, borderDash: [5, 5] },
                                { label: 'Rainfall (mm)', data: estateData.chartData.production.rainfall, backgroundColor: '#3b82f6', yAxisID: 'y-rainfall' }
                            ]
                        },
                        options: { responsive: true, maintainAspectRatio: false, scales: { x: { grid: { display: false } }, 'y-ffb': { type: 'linear', position: 'left', title: { display: true, text: 'FFB Production (MT)' } }, 'y-rainfall': { type: 'linear', position: 'right', title: { display: true, text: 'Rainfall (mm)' }, grid: { drawOnChartArea: false } } } }
                    });
                }

                const ageCtx = document.getElementById(ageCanvasId)?.getContext('2d');
                if(ageCtx) {
                    chartInstances[ageCanvasId] = new Chart(ageCtx, {
                        type: 'pie',
                        data: {
                            labels: estateData.chartData.ageProfile.labels,
                            datasets: [{ data: estateData.chartData.ageProfile.data, backgroundColor: ['#ca8a04', '#fde047', '#facc15'], hoverOffset: 4 }]
                        },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { title: { display: true, text: estateData.chartData.ageProfile.title, font: { size: 16 } }, legend: { position: 'right' } } }
                    });
                }
            }
            
            function populateInternalDropdowns() {
                const agronomyDiv = document.getElementById(`${estateData.id}-agronomy`);
                const plantationDiv = document.getElementById(`${estateData.id}-plantation`);
                const pinfosysDiv = document.getElementById(`${estateData.id}-pinfosys`);
                
                if (agronomyDiv && estateData.reports.agronomy) {
                    agronomyDiv.innerHTML = Object.entries(estateData.reports.agronomy).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section.replace(/([A-Z])/g, ' $1').trim()}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
                if (plantationDiv && estateData.reports.plantation) {
                    plantationDiv.innerHTML = Object.entries(estateData.reports.plantation).map(([section, content]) => `<h4 class="font-semibold mt-2 text-gray-800">${section.replace(/([A-Z])/g, ' $1').trim()}:</h4><p class="text-sm text-gray-600">${content}</p>`).join('');
                }
                 if (pinfosysDiv) {
                    pinfosysDiv.innerHTML = `<p class="text-sm text-gray-600">${estateData.reports.pinfosys}</p>`;
                }
            }

            function attachEventListeners() {
                container.querySelectorAll('.dropdown-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const id = event.currentTarget.dataset.dropdownId;
                        const content = document.getElementById(id);
                        content.classList.toggle('active');
                        event.currentTarget.classList.toggle('active');
                    });
                });
                container.querySelector('.policy-modal-btn')?.addEventListener('click', openPolicyModal);
            }

            renderEstate();
        });
        
        function openPolicyModal() {
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const policyData = ` <div class='policy-item'><p class='font-semibold'>Immature Upkeep</p><p class='text-sm text-gray-600'><b>Policy Ref: UPKEEP-IM-01:</b> EFB mulching must be completed within 3 months of planting. Palm supplying must be completed within 6 months.</p><p class='text-sm text-gray-600'><b>Policy Ref: WEED-IM-03:</b> Weeding rounds in immature areas must be strictly followed as per schedule to prevent competition and establish ground cover.</p></div> <div class='policy-item'><p class='font-semibold'>Pruning Standards</p><p class='text-sm text-gray-600'><b>Policy Ref: PRUNE-STD-01:</b> Over-pruning is strictly prohibited. Field supervisors must conduct pre- and post-pruning checks to ensure compliance.</p></div> <div class='policy-item'><p class='font-semibold'>Labour Management</p><p class='text-sm text-gray-600'><b>Policy Ref: HR-MANPOWER-01:</b> Estate managers must maintain the budgeted worker-to-land ratio. Any shortage exceeding 10% must be reported with a recruitment plan.</p></div>`;
            modalTitle.innerText = 'Agricultural Policy Cross-Reference: Ladang Cempaka';
            modalContent.innerHTML = policyData;
            document.getElementById('policyModal').classList.add('active');
        }

        function closePolicyModal() {
            document.getElementById('policyModal').classList.remove('active');
        }
    </script>
</body>
</html>
